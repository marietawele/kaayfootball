<!-- En-tête -->
<div class="d-flex align-items-center justify-content-between mb-3">
  <div class="fs-1">
    <h2>Utilisateurs - {{ searchService.list.length }}</h2>
  </div>
  <div class="d-flex gap-1">
    <button class="btn btn-outline-primary btn-sm px-3">
      <i class="bi bi-envelope me-1"></i> Inviter
    </button>
    <button class="btn btn-outline-secondary" [routerLink]="['/home/privilege']"><i class="bi bi-shield-lock me-1"></i>
      Gestion des privilèges</button>
    <button class="btn btn-primary" (click)="openModal_add_utilisateur()"><i class="bi bi-person-plus me-1"></i>
      Utilisateur</button>
  </div>
</div>

<!-- Liste des éléments -->
<!-- <div class="table-responsive">
  <table class="table table">
    <thead>
      <tr>
        <th scope="col">Ref</th>
        <th scope="col">Prénom</th>
        <th scope="col">Nom</th>
        <th scope="col">Email</th>
        <th scope="col">Statuts</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let one_utilisateur of searchService.list">
        <td>{{ "U°" + one_utilisateur.id_utilisateur }}</td>
        <td>{{ one_utilisateur.prenom }}</td>
        <td>{{ one_utilisateur.nom }}</td>
        <td>{{ one_utilisateur.login }}</td>
        <td>
          <div class="card">

            <span [ngClass]="{
            'success': one_utilisateur.statut == 'Actif'|| one_utilisateur.statut == 'actif',
            'danger': one_utilisateur.statut == 'Inactif' || one_utilisateur.statut == 'inactif'
            }"><i class="bi bi-circle-fill">&nbsp;{{ one_utilisateur.statut | titlecase}} </i>

            </span>

          </div>

        </td>
        <td>
          <button class="btn btn-sm btn-warning me-2">
            <i style="cursor: pointer" class="bi bi-pencil-square"
              (click)="openModal_edit_utilisateur(one_utilisateur)"></i>
          </button>
          <button class="btn btn-sm btn-outline-danger">
            <i style="cursor: pointer" class="bi bi-save" (click)="delete_utilisateur(one_utilisateur)"></i>
          </button>
        </td>
      </tr>
      <tr *ngIf="searchService.data<=0">
        <td colspan="6" class="text-center m-2">
          Aucune donnée
        </td>
      </tr>
    </tbody>
  </table>
</div> -->

<div class="card shadow-sm border-0 w-100">
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover mb-0">
        <thead class="bg-light">
          <tr>
            <th class="ps-4 py-3">Nom</th>
            <th class="py-3">Rôle</th>
            <th class="py-3">Statut</th>
            <th class="py-3 text-end pe-4">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let one_utilisateur of searchService.list">
            <td class="ps-4 align-middle">
              <div>
                <h5 class="mb-1 fw-semibold">{{ one_utilisateur.prenom }} {{ one_utilisateur.nom }}</h5>
                <small class="text-muted">
                  {{ one_utilisateur.telephone }} • {{ one_utilisateur.email }}
                </small>
              </div>
            </td>
            <td class="align-middle">
              <span class="badge bg-primary-subtle text-primary rounded-pill">
                {{ one_utilisateur.libelle_privilege }}
              </span>
            </td>
            <td class="align-middle">
              <span class="badge p-2" [ngClass]="{
                'bg-success': one_utilisateur.etat == 'Actif'|| one_utilisateur.etat == 'actif',
                'bg-danger': one_utilisateur.etat == 'Inactif' || one_utilisateur.etat == 'inactif'
                }">{{ one_utilisateur.etat | titlecase}}
              </span>
            </td>
            <td class="text-end pe-4 align-middle">
              <button class="btn btn-outline-primary btn-sm" (click)="openModal_edit_utilisateur(one_utilisateur)">
                <i class="bi bi-pencil me-1"></i> Modifier
              </button>
              <button class="btn btn-sm ms-1" [ngClass]="{'btn-outline-danger': one_utilisateur.etat == 'Actif'|| one_utilisateur.etat == 'actif',
                'btn-outline-sencondary':one_utilisateur.etat == 'Inactif' || one_utilisateur.etat == 'inactif'}"
                (click)="delete_utilisateur(one_utilisateur)">
                <i [ngClass]="{'bi bi-trash': one_utilisateur.etat == 'Actif'|| one_utilisateur.etat == 'actif',
                'bi bi-save':one_utilisateur.etat == 'Inactif' || one_utilisateur.etat == 'inactif'}"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
